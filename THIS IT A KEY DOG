local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local TextBox = Instance.new("TextBox")
local TextButton = Instance.new("TextButton")
local InstructionsLabel = Instance.new("TextLabel")

ScreenGui.Parent = game.Players.LocalPlayer.PlayerGui
Frame.Parent = ScreenGui
TextBox.Parent = Frame 
TextButton.Parent = Frame
InstructionsLabel.Parent = Frame

Frame.Size = UDim2.new(0.4, 0, 0.3, 0)
Frame.Position = UDim2.new(0.3, 0, 0.35, 0)
Frame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)

TextBox.Size = UDim2.new(0.8, 0, 0.2, 0)
TextBox.Position = UDim2.new(0.1, 0, 0.1, 0)
TextBox.Text = ""
TextBox.PlaceholderText = "ใส่คีย์ที่นี่"
TextBox.BackgroundColor3 = Color3.fromRGB(240, 240, 240)

TextButton.Size = UDim2.new(0.8, 0, 0.2, 0)
TextButton.Position = UDim2.new(0.1, 0, 0.5, 0)
TextButton.Text = "ยืนยันคีย์"
TextButton.BackgroundColor3 = Color3.fromRGB(0, 128, 255)

InstructionsLabel.Size = UDim2.new(1, 0, 0.1, 0)
InstructionsLabel.Position = UDim2.new(0, 0, 0, -30)
InstructionsLabel.Text = "กรุณาใส่คีย์ของคุณ"
InstructionsLabel.TextColor3 = Color3.fromRGB(0, 0, 0)
InstructionsLabel.TextSize = 14

local correctKey = "FRasdlSDkmdwa124askdMDASDODAOPPNIDSAJZNDKA"

local function preventOtherExecutions()
    local mt = getrawmetatable(game)
    local old = mt.__namecall
    setreadonly(mt, false)
    mt.__namecall = newcclosure(function(self, ...)
        local args = {...}
        local method = getnamecallmethod()
        if method == "HttpGet" then
            return old(self, ...)
        end
        return old(self, ...)
    end)
    setreadonly(mt, true)
end

local function isAuth()
    local success, content = pcall(function()
        return readfile("auth.txt")
    end)
    return success and content == "true"
end

local function saveAuth()
    pcall(function()
        writefile("auth.txt", "true")
    end)
end

local function loadMainScript()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/ADMINDOGG/PROJECT-AIM-/refs/heads/main/NEW%20DOG%20HUB%20THIS!"))()
end

if isAuth() then
    preventOtherExecutions()
    ScreenGui:Destroy()
    loadMainScript()
else
    TextButton.MouseButton1Click:Connect(function()
        if TextBox.Text == correctKey then
            preventOtherExecutions()
            saveAuth()
            ScreenGui:Destroy()
            loadMainScript()
        else
            game.Players.LocalPlayer:Kick("คีย์ไม่ถูกต้อง! กรุณาตรวจสอบคีย์ของคุณ")
        end
    end)
end
